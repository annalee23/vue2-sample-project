{"ast":null,"code":"import { mapState } from 'vuex';\nimport moment from 'moment';\nexport default {\n  computed: {\n    ...mapState(['ordersList']),\n    headers() {\n      return [{\n        text: '№ Заявки',\n        value: 'num'\n      }, {\n        text: 'Продукт',\n        value: 'stg'\n      }, {\n        text: 'Дата',\n        value: 'dadd'\n      }, {\n        text: 'Клиент',\n        value: 'client_name'\n      }, {\n        text: 'Статус',\n        value: 'state'\n      }, {\n        text: 'Телефон',\n        value: 'person_phone'\n      }];\n    }\n  },\n  footerProps() {\n    return {\n      'items-per-page-options': [5, 10, 15, 20],\n      'show-current-page': true,\n      'show-first-last-page': true,\n      'footer-props': 'justify-end' // This property is added\n    };\n  },\n  methods: {\n    formatDate(date) {\n      return moment(date).format('DD.MM.YYYY HH:mm');\n    },\n    statusClass(status) {\n      return {\n        'status-init': status === 'init',\n        'status-error': status === 'error',\n        'status-upload_docs': status === 'upload_docs',\n        'status-process': status === 'process',\n        'status-reupload_fls': status === 'reupload_fls'\n      };\n    },\n    openOrderDetails({\n      item\n    }) {\n      this.$store.dispatch('fetchOrderDetails', item.id).then(() => {\n        this.$root.$emit('open-order-tab', this.$store.state.currentOrder);\n      }).catch(error => {\n        console.error('Ошибка при загрузке данных заявки:', error);\n      });\n    }\n  },\n  mounted() {\n    this.$store.dispatch('fetchOrdersList');\n  }\n};","map":{"version":3,"names":["mapState","moment","computed","headers","text","value","footerProps","methods","formatDate","date","format","statusClass","status","openOrderDetails","item","$store","dispatch","id","then","$root","$emit","state","currentOrder","catch","error","console","mounted"],"sources":["src/components/MyComponent1.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>Список заявок</h2>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"ordersList\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n      @click:row=\"openOrderDetails\"\n    >\n      <template v-slot:[`item.stg`]=\"{ item }\">\n        <span>{{ item.stg.join(', ') }}</span>\n      </template>\n      <template v-slot:[`item.dadd`]=\"{ item }\">\n        <span>{{ formatDate(item.dadd) }}</span>\n      </template>\n      <template v-slot:[`item.state`]=\"{ item }\">\n        <span :class=\"statusClass(item.state)\">{{ item.state }}</span>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n  \n  <script>\n  import { mapState } from 'vuex';\n  import moment from 'moment';\n  \n  export default {\n    computed: {\n      ...mapState(['ordersList']),\n      headers() {\n        return [\n          { text: '№ Заявки', value: 'num' },\n          { text: 'Продукт', value: 'stg' },\n          { text: 'Дата', value: 'dadd' },\n          { text: 'Клиент', value: 'client_name' },\n          { text: 'Статус', value: 'state' },\n          { text: 'Телефон', value: 'person_phone' }\n       ];\n      }\n    },\n    footerProps() {\n      return {\n        'items-per-page-options': [5, 10, 15, 20],\n        'show-current-page': true,\n        'show-first-last-page': true,\n        'footer-props': 'justify-end'  // This property is added\n      };\n    },\n    methods: {\n      formatDate(date) {\n        return moment(date).format('DD.MM.YYYY HH:mm');\n      },\n      statusClass(status) {\n        return {\n          'status-init': status === 'init',\n          'status-error': status === 'error',\n          'status-upload_docs': status === 'upload_docs',\n          'status-process': status === 'process',\n          'status-reupload_fls': status === 'reupload_fls',\n        };\n      },\n      openOrderDetails({ item }) {\n      this.$store.dispatch('fetchOrderDetails', item.id)\n        .then(() => {\n          this.$root.$emit('open-order-tab', this.$store.state.currentOrder);\n        })\n        .catch(error => {\n          console.error('Ошибка при загрузке данных заявки:', error);\n        });\n    }\n    },\n    mounted() {\n      this.$store.dispatch('fetchOrdersList');\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .container {\n    padding: 20px;\n  }\n  \n  h2 {\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  \n  .status-init {\n    background-color: #ffe0b2; /* Оранжевый */\n  }\n  \n  .status-error {\n    background-color: #ffccbc; /* Персиковый */\n  }\n  \n  .status-upload_docs {\n    background-color: #b2ebf2; /* Голубой */\n  }\n  \n  .status-process {\n    background-color: #c8e6c9; /* Зеленый */\n  }\n  \n  .status-reupload_fls {\n    background-color: #e1bee7; /* Фиолетовый */\n  }\n  \n  tr:hover {\n    background-color: #f5f5f5; /* Светло-серый */\n  }\n  </style>\n  "],"mappings":"AAwBA,SAAAA,QAAA;AACA,OAAAC,MAAA;AAEA;EACAC,QAAA;IACA,GAAAF,QAAA;IACAG,QAAA;MACA,QACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,EACA;IACA;EACA;EACAC,YAAA;IACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,IAAA;MACA,OAAAR,MAAA,CAAAQ,IAAA,EAAAC,MAAA;IACA;IACAC,YAAAC,MAAA;MACA;QACA,eAAAA,MAAA;QACA,gBAAAA,MAAA;QACA,sBAAAA,MAAA;QACA,kBAAAA,MAAA;QACA,uBAAAA,MAAA;MACA;IACA;IACAC,iBAAA;MAAAC;IAAA;MACA,KAAAC,MAAA,CAAAC,QAAA,sBAAAF,IAAA,CAAAG,EAAA,EACAC,IAAA;QACA,KAAAC,KAAA,CAAAC,KAAA,wBAAAL,MAAA,CAAAM,KAAA,CAAAC,YAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,uCAAAA,KAAA;MACA;IACA;EACA;EACAE,QAAA;IACA,KAAAX,MAAA,CAAAC,QAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}